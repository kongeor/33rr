(ns rr33.core
  (:require [loom.graph :as g]
            [loom.alg :as a]
            [loom.io :refer [view]]
            [clojure.set :as set]))

(def vs
  [[1 95]
   [95 36]
   [36 111]
   [36 183]
   [36 202]
   [202 159]
   [159 31]
   [159 21]
   [159 49]
   [49 21]
   [49 31]
   [49 185]
   [31 190]
   [31 72]
   [31 67]
   [31 170]
   [190 128]
   [190 136]
   [136 130]
   [136 173]
   [136 110]
   [136 145]
   [110 145]
   [145 152]
   [145 47]
   [145 133]
   [47 83]
   [47 29]
   [29 87]
   [29 82]
   [87 120]
   [87 74]
   [74 120]
   [120 144]
   [120 140]
   [120 50]
   [140 45]
   [45 134]
   [45 15]
   [134 171]
   [134 59]
   [134 15]
   [59 119]
   [59 15]
   [171 15]
   [171 59]
   [83 126]
   [83 152]
   [83 133]
   [152 146]
   [146 88]
   [146 154]
   [146 121]
   [154 131]
   [154 45]
   [121 45]
   [121 131]
   [126 146]
   [88 32]
   [32 125]
   [32 26]
   [32 42]
   [42 96]
   [42 86]
   [86 148]
   [86 27]
   [27 125]
   [27 15]
   [130 162]
   [130 145]
   [162 145]
   [128 92]
   [128 145]
   [92 168]
   [92 145]
   [168 70]
   [168 210]
   [210 170]
   [70 167]
   [70 109]
   [70 65]
   [109 67]
   [109 170]
   [167 123]
   [167 207]
   [207 123]
   [170 189]
   [170 37]
   [189 153]
   [189 45]
   [153 165]
   [153 45]
   [37 30]
   [37 175]
   [175 5]
   [175 12]
   [12 174]
   [12 122]
   [174 181]
   [181 7]
   [181 7]
   [181 13]
   [13 141]
   [13 64]
   [7 186]
   [7 15]
   [122 181]
   [5 39]
   [5 12]
   [30 51]
   [72 117]
   [117 166]
   [166 53]
   [166 75]
   [166 105]
   [175 53]
   [175 105]
   [53 75]
   [53 105]
   [105 177]
   [105 52]
   [105 164]
   [177 91]
   [177 52]
   [177 164]
   [91 56]
   [91 164]
   [91 52]
   [56 80]
   [56 101]
   [80 143]
   [143 93]
   [143 57]
   [93 112]
   [93 193]
   [193 79]
   [193 45]
   [79 11]
   [79 23]
   [23 11]
   [23 34]
   [34 163]
   [34 139]
   [101 143]
   [164 143]
   [52 143]
   [67 176]
   [67 124]
   [124 198]
   [124 193]
   [124 28]
   [198 113]
   [198 28]
   [185 21]
   [185 31]
   [185 129]
   [129 137]
   [129 17]
   [137 155]
   [137 106]
   [137 25]
   [155 184]
   [184 4]
   [184 99]
   [4 40]
   [40 21]
   [40 31]
   [99 98]
   [106 160]
   [106 85]
   [106 138]
   [106 98]
   [98 40]
   [85 204]
   [85 71]
   [71 60]
   [71 100]
   [100 10]
   [10 45]
   [10 205]
   [138 15]
   [25 14]
   [25 149]
   [25 142]
   [25 158]
   [142 40]
   [149 40]
   [14 40]
   [158 94]
   [158 18]
   [158 180]
   [180 118]
   [180 89]
   [89 15]
   [118 16]
   [118 9]
   [16 194]
   [16 151]
   [194 68]
   [194 172]
   [194 161]
   [161 61]
   [161 24]
   [61 40]
   [24 45]
   [172 61]
   [172 24]
   [68 24]
   [68 61]
   [68 24]
   [151 45]
   [9 40]
   [18 38]
   [18 211]
   [18 3]
   [211 156]
   [211 199]
   [111 54]
   [111 17]
   [111 197]
   [54 20]
   [54 90]
   [90 46]
   [90 114]
   [114 22]
   [114 179]
   [114 62]
   [179 201]
   [179 62]
   [179 22]
   [201 150]
   [201 209]
   [22 46]
   [22 179]
   [22 62]
   [46 6]
   [46 178]
   [46 203]
   [203 15]
   [203 6]
   [203 178]
   [6 33]
   [6 203]
   [6 178]
   [33 69]
   [33 188]
   [178 208]
   [178 6]
   [178 203]
   [208 108]
   [208 81]
   [62 196]
   [62 22]
   [62 179]
   [20 191]
   [20 116]
   [116 77]
   [17 115]
   [17 157]
   [17 76]
   [17 102]
   [76 66]
   [76 15]
   [66 58]
   [66 15]
   [58 84]
   [58 44]
   [44 15]
   [102 63]
   [102 15]
   [63 127]
   [63 15]
   [127 8]
   [127 48]
   [157 73]
   [157 43]
   [199 115]
   [199 76]
   [199 157]
   [3 54]
   [38 54]
   [94 169]
   [94 132]
   [94 107]
   [107 15]
   [132 10]
   [205 41]
   [205 15]
   [41 78]
   [41 2]
   [41 55]
   [41 135]
   [41 200]
   [78 200]
   [78 135]
   [78 55]
   [78 2]
   [55 187]
   [187 103]
   [2 78]
   [2 55]
   [2 135]
   [2 200]
   [135 78]
   [135 55]
   [135 2]
   [135 200]
   [200 78]
   [200 78]
   [200 135]
   [200 2]
   [21 97]
   [21 182]
   [21 65]
   [21 195]
   [97 147]
   [97 182]
   [97 65]
   [147 35]
   [147 182]
   [147 65]
   [65 54]
   [65 17]
   [65 197]
   [183 159]
   [95 45]])

(def g (reduce (fn [g [s e]]
                 (g/add-path g s e))
         (g/digraph) vs))

(comment
  (count vs))

(comment
  (count (g/nodes g)))

(comment
  ;; oh no!
  (set/difference
    (set (range 1 212))
    (g/nodes g)))

(comment
  (a/bf-path g 1 15))

(comment
  (view g))